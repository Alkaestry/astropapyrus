<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Find Latitude and Longitude</title>

 <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
   crossorigin="anonymous"/>	
   
   <!-- Make sure you put this AFTER Leaflet's CSS -->
 <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
   integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
   crossorigin=""></script>

<script type="text/javascript" src="https://stamen-maps.a.ssl.fastly.net/js/tile.stamen.js?v1.3.0"></script>   
	
	<style>
	#mapid {
	height: 512px;
	width: 512px;;
	}
	</style>
	

</head>



<body onload="">


<div id="mapid"></div>

<script type="text/javascript">
var mymap = L.map('mapid').setView([51.505, -0.09], 13);// colocar la vista segun la posicion geografica de la persona en su pais.

var OpenStreetMap_HOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
	maxZoom: 19,
	attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>'
}).addTo(mymap);

// configurando el mapa:
var marker = L.marker([51.5, -0.09]).addTo(mymap);//** colocar el maarcador segun la posicion de la persona en su pais.

//Configurar aquí el nicel del ZOOM.


marker.dragging.enable();

//marker.bindPopup("<b>Elige la ubicación de tu nacimiento").openPopup();


// then updates the input with the new coords
function onMarkerClick(e)
{
	txtLat.value = marker.getLatLng().lat;
	txtLng.value = marker.getLatLng().lng;
}
marker.on('mouseup', onMarkerClick);



// ver ejemplo de:
//*****	https://estradawebgroup.com/Post/Como-obtener-la-latitud-y-longitud-de-un-pin-que-se-puede-arrastrar-a-traves-de-Google-Maps/4246
marker.on('dragend', function () {
                mymap.panTo([marker.getLatLng().lat, marker.getLatLng().lng]);//padding
            });


//
//setLatLng(<LatLng> latlng)


</script>



    <h2>
        Google Maps Draggable Marker Get Coordinates
    </h2>

    <label for="latitude">
        Latitude:
    </label>
    <input id="txtLat" type="text" style="color:red" value="19.4326077" />
    <label for="longitude">
        Longitude:
    </label>
    <input id="txtLng" type="text" style="color:red" value="-99.13320799999997" /><br />
    <br />
    <br />
    <div id="map_canvas" style="width: auto; height: 500px;">
    </div>

</body>
</html>